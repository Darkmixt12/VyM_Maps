
<body>
	<h1 class="principalTitle">Perfil de Usuario</h1>

	<div class="container">

		
		<div class="info-container">
			
			<div id="titleEdit">
				<h4>Mi perfil de usuario</h4> 
				<button (click)="editUser()" class="editProfileBtn pi pi-file-edit"></button>
			</div>
	
			<p>Ajustes</p>

			<div class="flex">

			<div class="changeImageContainer">
				<label for="">Mi foto de perfil</label>
				<img *ngIf="!imgTemporal" src="{{ currentUser!.image }}" class="img-avatar" alt="" />
				<img *ngIf="imgTemporal" src="{{ imgTemporal }}" class="img-avatar" />
				<input type="file"  (change)="uploadFile($event)" id="selectedFile" style="display: none;" />
				<input type="button" class="BtnUpdated" value="Actualizar Imagen" onclick="document.getElementById('selectedFile').click();"/>
				
					<div class="btns-upload">
						
						<button *ngIf="file" class="btn-upload" (click)="upImage() ">
						  Guardar Imagen
						</button>
					  </div>
			</div>

			<form action="" [formGroup]="updateFormUserInfo">

				<div class="changeEmailNameContainer">
					<label for="">Nombre de Usuario</label>
					<input 
					[readonly]="btneditUser"
					formControlName="name"
					class="form-control"
					type="text">
					<span class="errorValidation" *ngIf="isValidField('name')">
						 {{getFieldError('name', updateFormUserInfo )}}
					</span>

	
					<label for="">Direccion de Correo Electronico</label>
					<input 
					formControlName="email"
					class="form-control"
					type="text">
					<span class="errorValidation" *ngIf="isValidField('email')">
						{{getFieldError('email', updateFormUserInfo )}}
				   </span>

	
					<button (click)="updateUser()">Editar Usuario</button>
					
				</div>

			</form>

			</div>
		</div>


		<div class="password-container">
			<h4>Cambiar contraseña</h4>
			<p>Ajustes</p>
		<form action="" [formGroup]="updateFormPassword">
			<div class="changePasswordContainer">

				<div class="inputBox">

				<label for="">Digite su contraseña</label>
				<input
				pInputText pTooltip="Contraseña actual" tooltipPosition="right" 
				formControlName="password"
				class="form-control"
				[type]="changeOldType?'password':'text'">
				<div  class="eye-icon" id="toggle" (click)="viewOldPass()" [ngClass]="visibleOld?'pi pi-eye':'pi pi-eye-slash'"></div>

				
				</div>

				<div class="inputBox">

					<label for="">Nueva contraseña</label>
					<input
					pInputText pTooltip="Nueva contraseña" tooltipPosition="right" 
					formControlName="newPassword"
					class="form-control"
					id="password"
					[type]="changeType?'password':'text'">
					<div  class="eye-icon" id="toggle" (click)="viewNewPass()" [ngClass]="visible?'pi pi-eye':'pi pi-eye-slash'"></div>

				</div>

				<div class="inputBox">

				<label for="">Repita contraseña</label>
				<input
				pInputText pTooltip="Repita su contraseña" tooltipPosition="right"
				formControlName="newPassword2"
				class="form-control"
				[type]="changeType?'password':'text'">
				<div  class="eye-icon" id="toggle" (click)="viewNewPass()" [ngClass]="visible?'pi pi-eye':'pi pi-eye-slash'"></div>	
				

				</div>

				<div>

					<br>

				</div>

				<button (click)="changePassword()">Modificar contraseña</button>
			</div>
		</form>



		</div>
	



	</div>

</body>
